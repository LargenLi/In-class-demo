---
title: "DA"
format: html
---

```{r}
library(readxl)
library(tidyverse)
df_raw = read_excel('C:\\Users\\17172\\.cache\\kagglehub\\datasets\\abdallahwagih\\telco-customer-churn\\versions\\1\\Telco_customer_churn.xlsx')

```

```{r}
colnames(df_raw) = gsub(" ", "_", tolower(colnames(df_raw)))

# Step 4: Check missing values
missing_summary = sapply(df_raw, function(x) sum(is.na(x)))
print(missing_summary)

# Step 5: Convert character columns to factors
df_cleaned = df_raw %>%
  mutate(across(where(is.character), as.factor))

# Step 6: Remove rows with too many missing values
threshold_missing = 0.5  # Allow maximum 50% missing
df_cleaned = df_cleaned %>%
  filter(rowSums(is.na(.)) / ncol(.) <= threshold_missing)

head(df_cleaned)
```

```{r}
df_clean
```
